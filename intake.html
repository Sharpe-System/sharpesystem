<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark light" />
  <meta name="theme-color" content="#0b0f14" />
  <title>Case Intake — SharpeSystem</title>
  <meta name="description" content="Answer a few questions so SharpeSystem can route you to the right next steps." />
  <link rel="stylesheet" href="/styles.css" />

  <style>
    .two-col{display:grid;grid-template-columns:1.1fr .9fr;gap:14px;margin-top:12px;}
    @media (max-width:920px){.two-col{grid-template-columns:1fr;}}
    .chip{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.08);
      background:rgba(255,255,255,.03);color:var(--soft);font-size:12px;font-weight:760;margin-bottom:10px;}
    .panel{border:1px solid var(--border);background:rgba(255,255,255,.03);
      border-radius:var(--radius);padding:14px;}
    .btn-row{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px;}
    .mini{font-size:13px;color:var(--soft);}
    .req{color:rgba(251,191,36,.95);font-weight:800;}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
    @media (max-width:920px){.row{grid-template-columns:1fr;}}
    .checks{display:grid;gap:8px;margin-top:8px;}
    .checks label{display:flex;gap:10px;align-items:flex-start;color:var(--muted);font-size:14px;}
    .checks input{margin-top:3px;}
    .note{border:1px solid rgba(110,231,255,.22);background:rgba(110,231,255,.06);border-radius:14px;padding:10px 12px;}
  </style>
</head>

<body
  data-require-auth="1"
  data-require-tier="basic"
  data-next="/intake.html"
>
  <div id="site-header"></div>

  <main class="page">
    <div class="container">
      <section class="content">
        <div class="chip">Case Intake</div>
        <h1>Tell us what kind of situation this is.</h1>
        <p class="lede">
          This isn’t about “perfect wording.” This is just enough information to route you to the right next steps.
        </p>

        <form id="intakeForm" class="panel">
          <div class="row">
            <div>
              <label class="label" for="kind">
                What kind of issue is this? <span class="req">*</span>
              </label>
              <select class="input" id="kind" required>
                <option value="" selected disabled>Select one…</option>
                <option value="family">Family / custody / divorce</option>
                <option value="protective_order">Restraining order / protective order</option>
                <option value="criminal">Criminal case</option>
                <option value="civil">Civil dispute / lawsuit / small claims</option>
                <option value="housing">Housing / eviction / landlord-tenant</option>
                <option value="employment">Employment / wage / workplace</option>
                <option value="admin">Government / benefits / administrative</option>
                <option value="other">Other</option>
                <option value="unsure">Not sure</option>
              </select>
            </div>

            <div>
              <label class="label" for="stage">
                Where are you in the process? <span class="req">*</span>
              </label>
              <select class="input" id="stage" required>
                <option value="" selected disabled>Select one…</option>
                <option value="starting">I’m starting / trying to understand what to do</option>
                <option value="responding">I received paperwork and need to respond</option>
                <option value="upcoming_hearing">I have an upcoming hearing</option>
                <option value="changing_order">I’m trying to change an existing order</option>
                <option value="enforcement">I need enforcement (violations / noncompliance)</option>
                <option value="appeal_review">I’m appealing / requesting review</option>
                <option value="unknown">Not sure</option>
              </select>
            </div>
          </div>

          <div class="row" style="margin-top:12px;">
            <div>
              <label class="label" for="where">
                Where is this happening? (state/county/court)
              </label>
              <input class="input" id="where" type="text" placeholder="Example: California, Orange County" />
              <div class="mini">This helps SharpeSystem choose the right procedural assumptions later.</div>
            </div>

            <div>
              <label class="label" for="deadline">
                Any deadline or court date?
              </label>
              <input class="input" id="deadline" type="text" placeholder="Example: hearing March 9 / deadline in 10 days / none" />
              <div class="mini">If there’s a deadline, it becomes the primary anchor.</div>
            </div>
          </div>

          <div style="margin-top:12px;">
            <label class="label" for="goal">
              What outcome are you trying to create?
            </label>
            <input class="input" id="goal" type="text" placeholder="Example: modify custody schedule, respond to filing, terminate order, stabilize a plan" />
          </div>

          <div style="margin-top:12px;">
            <label class="label" for="facts">
              What happened? (plain facts, short)
            </label>
            <textarea class="input" id="facts" rows="5" placeholder="2–8 sentences. Plain facts."></textarea>
          </div>

          <div style="margin-top:12px;">
            <div class="label">Constraints / flags (check any that apply)</div>
            <div class="checks">
              <label><input type="checkbox" id="flagNoContact" /> There is a no-contact / restraining order affecting communication</label>
              <label><input type="checkbox" id="flagSafety" /> Safety is an active concern</label>
              <label><input type="checkbox" id="flagMoney" /> Money is tight / fee sensitivity matters</label>
              <label><input type="checkbox" id="flagLanguage" /> Language help would be useful</label>
              <label><input type="checkbox" id="flagSelfRep" /> I am representing myself (no attorney)</label>
            </div>
          </div>

          <div class="btn-row">
            <button class="button primary" id="saveBtn" type="submit">Save and continue</button>
            <a class="button" href="/dashboard.html">Back to Dashboard</a>
          </div>

          <div id="msg" class="mini" style="margin-top:10px;"></div>
        </form>

        <div class="note" style="margin-top:14px;">
          <strong>What happens next:</strong>
          This saves your Intake and routes you into Snapshot / Checklist based on what’s already saved.
        </div>
      </section>
    </div>
  </main>

  <script src="/header-loader.js" defer></script>
  <script type="module" src="/header-auth.js" defer></script>
  <script src="/i18n.js" defer></script>

  <!-- Gate first (module-only, consistent) -->
  <script type="module" src="/gate.js"></script>

  <!-- Intake logic -->
  <script type="module" src="/intake.js"></script>
</body>
</html>
